{"componentChunkName":"component---src-templates-blog-post-blog-post-tsx","path":"/blogs/gcp-configure-ssl","result":{"data":{"markdownRemark":{"html":"<h1>Setup HTTPs for kubernetes</h1>\n<ol>\n<li>Register a Domain Name</li>\n<li>Reserve an External IP address in VPC network->External IP addresses</li>\n<li>Setting up the managed certificate</li>\n</ol>\n<pre><code class=\"language-yaml\">apiVersion: networking.gke.io/v1\nkind: ManagedCertificate\nmetadata:\n    name: certificate-name\nspec:\n    domains:\n        - domain-name1\n        - domain-name2\n</code></pre>\n<ol start=\"4\">\n<li>Create a DNS zone in Cloud DNS\nAdd A record and CNAME</li>\n<li>Create ingress with HTTPs, select the certificate\nOr using config file:</li>\n</ol>\n<pre><code>apiVersion: networking.k8s.io/v1beta1\nkind: Ingress\nmetadata:\n  name: ingress-name\n  annotations:\n    kubernetes.io/ingress.global-static-ip-name: address-name\n    networking.gke.io/managed-certificates: certificate-name\nspec:\n  backend:\n    serviceName: service-name\n    servicePort: service-port\n</code></pre>\n<ol start=\"6\">\n<li>To verify DNS works, run<br>\n<code>dig +trace duomind.org</code><br>\nOr<br>\n<code>nslookup duomind.org</code></li>\n</ol>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://cloud.google.com/kubernetes-engine/docs/how-to/managed-certs\">Using Google-managed SSL certificates</a></li>\n<li><a href=\"https://cloud.google.com/kubernetes-engine/docs/how-to/load-balance-ingress\">Configuring Ingress for external load balancing</a></li>\n<li><a href=\"https://cloud.google.com/dns/docs/tutorials/create-domain-tutorial\">Configure DNS on GCP</a></li>\n</ul>","frontmatter":{"date":"February 22, 2020","path":"/blogs/gcp-configure-ssl","title":"Setup HTTPs for Kubernetes"},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Setup HTTPs for kubernetes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Register a Domain Name"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Reserve an External IP address in VPC network->External IP addresses"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Setting up the managed certificate"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"apiVersion: networking.gke.io/v1\nkind: ManagedCertificate\nmetadata:\n    name: certificate-name\nspec:\n    domains:\n        - domain-name1\n        - domain-name2\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Create a DNS zone in Cloud DNS\nAdd A record and CNAME"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Create ingress with HTTPs, select the certificate\nOr using config file:"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"apiVersion: networking.k8s.io/v1beta1\nkind: Ingress\nmetadata:\n  name: ingress-name\n  annotations:\n    kubernetes.io/ingress.global-static-ip-name: address-name\n    networking.gke.io/managed-certificates: certificate-name\nspec:\n  backend:\n    serviceName: service-name\n    servicePort: service-port\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":6},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To verify DNS works, run"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dig +trace duomind.org"}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nOr"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"nslookup duomind.org"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"References"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://cloud.google.com/kubernetes-engine/docs/how-to/managed-certs"},"children":[{"type":"text","value":"Using Google-managed SSL certificates"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://cloud.google.com/kubernetes-engine/docs/how-to/load-balance-ingress"},"children":[{"type":"text","value":"Configuring Ingress for external load balancing"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://cloud.google.com/dns/docs/tutorials/create-domain-tutorial"},"children":[{"type":"text","value":"Configure DNS on GCP"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}}}},"pageContext":{"prev":{"frontmatter":{"type":null,"date":"2020-02-20T00:00:00.000Z","path":"/blogs/deploy-docker-gcp","tags":"note, backend, gcp","title":"Deploy a docker image on GCP Kubernetes Engine","score":95}},"next":{"frontmatter":{"type":"jsx","date":null,"path":"/blogs/react-animation","tags":"frontend, playground, featured","title":"React animation playground","score":92}},"tags":["note","backend","gcp"]}},"staticQueryHashes":[]}